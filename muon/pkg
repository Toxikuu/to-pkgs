muon@225cc5ff1a8788f7502d168da766a69678d9f50e-2

a="An implementation of the meson build system in c99"
m="Tox"
l="GPL-3.0"
t="core utils lang"
u="https://github.com/$n-build/$n.git"

s="$u"
d=(
    "pkgconf"
    "b,samurai"
    "b,scdoc"
)

b() {

_cfg=(
    # Runtime dependencies
    -D libcurl=disabled     # wrapfile support
    -D libarchive=disabled  # wrapfile support
    -D libpkgconf=enabled
    -D samurai=disabled     # embeds samu into the executable
    -D tracy=disabled
    -D ui=disabled
    -D readline=builtin

    # Build settings
    -D static=false

    # Docs and tests
    -D man-pages=enabled
    -D meson-docs=disabled
    -D meson-tests=disabled
    -D website=disabled
)

# Bootstrap
CFLAGS+=" -D BOOTSTRAP_NO_SAMU"
./bootstrap.sh bootstrap

# Rebuild and install
with meson
MESON="bootstrap/$n-bootstrap" def

}
